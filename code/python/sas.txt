import maya.cmds as mc
import rigLib
import rigLib.base

from rigLib.base import module
from rigLib.base import control
from rigLib.rig import arm
from rigLib.utils import constrain

reload(rigLib)
reload(module)
reload(control)
reload(arm)
reload(constrain)

mc.file(new=True, force=True)

characterName="test"
sceneScale=1
rootJnt = 'root'

pathSkeleton=r"C:\Users\nilas\Documents\maya\2019\modules\autoRigger\assetsTest/skeleton.ma"
mc.file(pathSkeleton, i = 1)

"""
pathModel=r"C:\Users\nilas\Documents\maya\2019\modules\autoRigger\assetsTest/model.ma"
mc.file(pathModel, i = 1)
"""

# create base rig
baseRig = module.Base(characterName=characterName, scale=sceneScale, globalCtrlScale=15)
mc.parent(rootJnt, baseRig.jointsGrp)

# create left arm module

lArmJoints = ['l_armUpperResult_jnt', 'l_armLowerResult_jnt', 'l_armEndResult_jnt']
armRig = arm.build(armJoints=lArmJoints, scapulaJnt='l_clavicleResult_jnt', prefix='l_arm', rigScale=3, baseRig=baseRig)

# create right arm module

rArmJoints = ['r_armUpperResult_jnt', 'r_armLowerResult_jnt', 'r_armEndResult_jnt']
armRig = arm.build(armJoints=rArmJoints, scapulaJnt='r_clavicleResult_jnt', prefix='r_arm', rigScale=3, baseRig=baseRig)




constrain.matrixConstrain("l_armUpperFK_ctrl", "l_armUpperFK_jnt")
constrain.matrixConstrain("l_armLowerFK_ctrl", "l_armLowerFK_jnt")
constrain.matrixConstrain("l_armEndFK_ctrl", "l_armEndFK_jnt")

mc.getAttr("l_armUpperFK_jnt_multMatrix.matrixIn[0]")
mc.getAttr("l_armUpperFK_jntlocalOffset_multMatrix.matrixSum")
